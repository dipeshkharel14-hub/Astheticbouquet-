<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AstheticBouquet</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
  body{background:#f9f5f2;}
  canvas{display:block;margin:20px auto;background:#fff;border:1px solid #ccc;}
  #container{text-align:center;width:95%;max-width:1200px;margin:auto;}
  button{padding:12px 22px;margin:15px;font-size:16px;border:none;background:#ff5f5f;color:#fff;border-radius:8px;cursor:pointer;}
  button:disabled{background:#ccc;cursor:not-allowed;}
  .hidden{display:none;}
  .flower-selection{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;margin-top:20px;}
  .flower-card{width:120px;text-align:center;cursor:pointer;border:2px solid transparent;border-radius:10px;padding:6px;}
  .flower-card.selected{border:#ff5f5f 2px solid;background:#ffeaea;}
  img{width:100px;height:100px;object-fit:contain;border-radius:10px;}
  textarea{width:90%;max-width:600px;height:100px;margin:12px auto;padding:10px;font-size:16px;border:1px solid #ccc;border-radius:10px;display:block;}
</style>
</head>
<body>

<div id="container">

  <!-- Canvas 1: Sample Bouquet -->
  <div id="canvas1">
    <canvas id="sampleCanvas" width="600" height="400"></canvas>
    <h2>AstheticBouquet</h2>
    <button id="createBtn1">Create üíê</button>
  </div>

  <!-- Canvas 2: Flower Selection -->
  <div id="canvas2" class="hidden">
    <h2>Select Your Flowers (6‚Äì10)</h2>
    <div class="flower-selection" id="flowerSelection"></div>
    <button id="nextBtn2" disabled>Next</button>
  </div>

  <!-- Canvas 3: Edit Note -->
  <div id="canvas3" class="hidden">
    <h2>Modify Your Note</h2>
    <textarea id="noteText">Dear Friend, Wishing you a wonderful day filled with love and happiness!</textarea>
    <button id="createBouquetBtn">Create Bouquet üíê</button>
  </div>

  <!-- Canvas 4: Final Bouquet -->
  <div id="canvas4" class="hidden">
    <canvas id="finalCanvas" width="600" height="500"></canvas>
    <div>
      <button id="shareTextBtn">Share via Text</button>
      <button id="shareEmailBtn">Share via Email</button>
    </div>
  </div>

</div>

<script>
// Canvas refs
const sampleCanvas=document.getElementById('sampleCanvas');
const ctxSample=sampleCanvas.getContext('2d');
const finalCanvas=document.getElementById('finalCanvas');
const ctxFinal=finalCanvas.getContext('2d');

// Screens
const canvas1=document.getElementById('canvas1');
const canvas2=document.getElementById('canvas2');
const canvas3=document.getElementById('canvas3');
const canvas4=document.getElementById('canvas4');

// Buttons
const createBtn1=document.getElementById('createBtn1');
const nextBtn2=document.getElementById('nextBtn2');
const createBouquetBtn=document.getElementById('createBouquetBtn');
const shareTextBtn=document.getElementById('shareTextBtn');
const shareEmailBtn=document.getElementById('shareEmailBtn');
const noteText=document.getElementById('noteText');

// 15 Real Flower PNG URLs (transparent)
const realFlowers = [
  "https://purepng.com/public/uploads/large/purepng.com-flower-flower-planta-981524661594hxtx.png",
  "https://purepng.com/public/uploads/large/purepng.com-flower-flower-planta-vis1.png",
  "https://purepng.com/public/uploads/large/purepng.com-rose-flowerplantrosesblossombudbloomfloralflora-811524662696ehixt.png",
  "https://purepng.com/public/uploads/large/purepng.com-flower-floraorchidbotanicialpetalbeautifulplant-11115246692b7u0c.png",
  "https://purepng.com/public/uploads/large/purepng.com-flower-flower-stemfloralfloraamaryllisbulbbotanical-461524664780psksd.png",
  "https://purepng.com/public/uploads/large/purepng.com-flower-flowerpetalsfloraflowerbouquetplantflower-84152466648p25fd.png",
  "https://purepng.com/public/uploads/large/purepng.com-flower-flowerquet-bunchrosesplantbouquet-floralsdecorativeflower-9815246662419lmu.png",
  "https://purepng.com/public/uploads/large/purepng.com-flower-flowerboleafpetalsblossombotanegarden-12115246628607k9p.png",
  "https://purepng.com/public/uploads/large/purepng.com-flower-flowerpetalleafpinkrosesgardenflora-3011524667858kfj.png",
  "https://purepng.com/public/uploads/large/purepng.com-flower-flowergarden-85152466867swan.png",
  "https://purepng.com/public/uploads/large/purepng.com-flower-bouquetfloralbouquet-671152466691o0kb.png",
  "https://toppng.com/freepng/flower-bouquet-PNG-free-PNG-Images_19012", // bouquet PNG Ó®Å1Ó®Ç
  "https://toppng.com/freepng/bouquet-of-flowers-transparent-image-PNG-image_19168",    // larger bouquet Ó®Å2Ó®Ç
  "https://toppng.com/free-image/bouquet-flowers-png-transparent-images-free-download-flower-bouquet-PNG-free-PNG-Images_200191", // more bouquet Ó®Å3Ó®Ç
  "https://toppng.com/free-image/public-domain-watercolor-flowers-PNG-free-PNG-Images_78575" // watercolor style Ó®Å4Ó®Ç
];

let selectedFlowers=[];

// Draw sample preview on start
function drawSample(){
  ctxSample.fillStyle="#fff8f5";
  ctxSample.fillRect(0,0,600,400);
  ctxSample.font="bold 24px Poppins";
  ctxSample.fillStyle="#ff5f5f";
  ctxSample.fillText("AstheticBouquet Sample",180,50);
  const img=new Image();
  img.src=realFlowers[11];
  img.onload=()=>ctxSample.drawImage(img,150,120,300,200);
}
drawSample();

// Populate flower selection
const selectionDiv=document.getElementById('flowerSelection');
realFlowers.forEach((url,idx)=>{
  const card=document.createElement('div');
  card.className="flower-card";
  card.innerHTML=`<img src="${url}"><div>Flower ${idx+1}</div>`;
  card.onclick=()=>{
    if(card.classList.contains("selected")){
      card.classList.remove("selected");
      selectedFlowers = selectedFlowers.filter(i=>i!==idx);
    } else if(selectedFlowers.length < 10){
      card.classList.add("selected");
      selectedFlowers.push(idx);
    }
    nextBtn2.disabled = selectedFlowers.length < 6;
  };
  selectionDiv.appendChild(card);
});

// Navigation
createBtn1.onclick=()=>{
  canvas1.classList.add("hidden");
  canvas2.classList.remove("hidden");
};

nextBtn2.onclick=()=>{
  canvas2.classList.add("hidden");
  canvas3.classList.remove("hidden");
};

createBouquetBtn.onclick=()=>{
  canvas3.classList.add("hidden");
  canvas4.classList.remove("hidden");
  drawFinal();
};

// Draw final bouquet layout
function drawFinal(){
  ctxFinal.fillStyle="#fff8f5";
  ctxFinal.fillRect(0,0,600,500);

  // draw flowers in grid
  selectedFlowers.forEach((i,index)=>{
    const img=new Image();
    img.src=realFlowers[i];
    img.onload=()=>{
      const x=50 + (index % 5) * 100;
      const y=90 + Math.floor(index/5) * 100;
      ctxFinal.drawImage(img, x, y, 80, 80);
    }
  });

  ctxFinal.font="bold 24px Poppins";
  ctxFinal.fillStyle="#ff5f5f";
  ctxFinal.fillText("AstheticBouquet",180,40);

  ctxFinal.font="18px Poppins";
  ctxFinal.fillStyle="#000";
  ctxFinal.fillText(noteText.value,60,470);

  ctxFinal.font="12px Poppins";
  ctxFinal.fillStyle="#777";
  ctxFinal.fillText("Made by: dipeshkharel.qzz.io | Powered by: mr_dipesh",90,495);
}

// Sharing
shareTextBtn.onclick=()=>{
  navigator.clipboard.writeText(noteText.value).then(()=>alert("Copied!"));
};
shareEmailBtn.onclick=()=>{
  const subj=encodeURIComponent("My AstheticBouquet");
  const body=encodeURIComponent(noteText.value);
  window.location.href=`mailto:?subject=${subj}&body=${body}`;
};
</script>

</body>
</html>
